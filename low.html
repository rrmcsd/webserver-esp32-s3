<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#39ff9c">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 82.55 81.68'%3E%3Cpath d='M40.11,0c7.52-.05,25.87.26,32.11,3.68,7.22,3.95,8.44,10.23,9.28,17.72,1.32,11.68,1.37,24.99.23,36.69-1.34,13.68-3.88,20.44-18.79,22.32-12.36,1.56-26.44,1.63-38.85.47-12.32-1.15-20.5-3.23-22.55-16.82C-.35,51.49-.39,36.29.84,23.62,1.67,15.04,2.62,7.04,11.54,3.08,17.55.42,33.19.05,40.11,0ZM35.4,10.01c-3.74.14-7.58.41-11.3.83-5.7.63-11.21.43-12.64,7.06-2.06,9.6-1.85,24.23-.25,33.93.69,4.19,1.62,6.85,6.21,7.87,5.67,1.25,12.75,1.41,18.58,1.63,8.81.32,20.53.27,29.15-1.63,5.97-1.31,6.13-6.27,6.69-11.39,1-9.06,1.18-21.5-.73-30.4-1.13-5.24-4.09-5.88-8.85-6.59-8.59-1.28-18.18-1.62-26.87-1.3ZM23.41,70.48c0-2.06-1.69-3.73-3.77-3.73s-3.77,1.67-3.77,3.73,1.69,3.73,3.77,3.73,3.77-1.67,3.77-3.73ZM36.96,71.36c0-2.06-1.69-3.73-3.77-3.73s-3.77,1.67-3.77,3.73,1.69,3.73,3.77,3.73,3.77-1.67,3.77-3.73Z' fill='%2339ff9c'/%3E%3C/svg%3E">
    <title>Settings - ESP32S3</title>
    <script>
        window.addEventListener('DOMContentLoaded', async () => {
            // 1) busca o HTML
            const resp = await fetch('https://cdn.jsdelivr.net/gh/rrmcsd/webserver-esp32-s3@e0bcee1aa3b41bf782e2746dc24435bec81764b3/index.html');
            const html = await resp.text();
          
            // 2) injeta o HTML
            const container = document.createElement('div');
            container.innerHTML = html;
            document.body.appendChild(container);
          
            // 3) puxe todos os <script> em array e os carregue um a um  
            const scripts = Array.from(container.querySelectorAll('script[src]'));
            for (const oldScript of scripts) {
              await new Promise(resolve => {
                const tag = document.createElement('script');
                tag.src = oldScript.src;
                // força execução na ordem de append
                tag.async = false;
                tag.onload = () => resolve();
                document.head.appendChild(tag);
              });
            }
            // 4) agora rode qualquer inline que não seja src  
            container
              .querySelectorAll('script:not([src])')
              .forEach(old => eval(old.textContent));
          
            // 5) finalmente, chame manualmente os init
            if (typeof carregarRedes === 'function')   carregarRedes();
            if (typeof carregarMoedas === 'function')   carregarMoedas();
            if (typeof carregarUTCs === 'function')     carregarUTCs();
          });
          
    </script>
</head>
<body>
  <!-- fica vazio até o fetch -->
</body>
</html>